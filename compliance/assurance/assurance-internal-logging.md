---
title: Journalisation interne de Microsoft 365 pour l’ingénierie Microsoft 365
description: Dans cet article, découvrez une explication du fonctionnement de la journalisation interne pour les équipes d’ingénierie Microsoft 365.
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
f1.keywords:
- NOCSH
ms.custom: seo-marvel-apr2020
titleSuffix: Microsoft Service Assurance
hideEdit: true
ms.openlocfilehash: 110a61c27a00380eede4d4f2303acfb025a27a1f
ms.sourcegitcommit: 024137a15ab23d26cac5ec14c36f3577fd8a0cc4
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/01/2021
ms.locfileid: "51497072"
---
# <a name="internal-logging-for-microsoft-365-engineering"></a><span data-ttu-id="f32b7-103">Journalisation interne pour Microsoft 365 Engineering</span><span class="sxs-lookup"><span data-stu-id="f32b7-103">Internal logging for Microsoft 365 engineering</span></span>

<span data-ttu-id="f32b7-104">Outre les événements et les données de journal disponibles pour les clients, il existe également un système interne de collecte de données de journal qui est disponible pour les ingénieurs Microsoft 365 chez Microsoft.</span><span class="sxs-lookup"><span data-stu-id="f32b7-104">In addition to the events and log data available for customers, there is also an internal log data collection system that is available to Microsoft 365 engineers at Microsoft.</span></span> <span data-ttu-id="f32b7-105">De nombreux types de données de journal sont téléchargés à partir de serveurs Microsoft 365 vers un service de calcul de big data interne appelé Cosmos.</span><span class="sxs-lookup"><span data-stu-id="f32b7-105">Many different types of log data are uploaded from Microsoft 365 servers to an internal, big data computing service called Cosmos.</span></span> <span data-ttu-id="f32b7-106">Chaque équipe de service charge les journaux d’audit de leurs serveurs respectifs dans la base de données Cosmos pour l’agrégation et l’analyse.</span><span class="sxs-lookup"><span data-stu-id="f32b7-106">Each service team uploads audit logs from their respective servers into the Cosmos database for aggregation and analysis.</span></span> <span data-ttu-id="f32b7-107">Ce transfert de données se produit via une connexion TLS validée par FIPS 140-2 sur des ports et protocoles spécifiquement approuvés à l’aide d’un outil d’automatisation propriétaire appelé OdL (Office Data Loader).</span><span class="sxs-lookup"><span data-stu-id="f32b7-107">This data transfer occurs over a FIPS 140-2-validated TLS connection on specifically approved ports and protocols using a proprietary automation tool called the Office Data Loader (ODL).</span></span> <span data-ttu-id="f32b7-108">Les outils utilisés dans Microsoft 365 pour collecter et traiter les enregistrements d’audit n’autorisent pas les modifications définitives ou irréversibles apportées au contenu ou à l’ordre des enregistrements d’audit d’origine.</span><span class="sxs-lookup"><span data-stu-id="f32b7-108">The tools used in Microsoft 365 to collect and process audit records do not allow permanent or irreversible changes to the original audit record content or time ordering.</span></span>

<span data-ttu-id="f32b7-109">Les équipes de service utilisent Cosmos comme référentiel centralisé pour effectuer une analyse de l’utilisation des applications, pour mesurer les performances système et opérationnelles, et pour rechercher des anomalies et des modèles qui peuvent indiquer des problèmes ou des problèmes de sécurité.</span><span class="sxs-lookup"><span data-stu-id="f32b7-109">Service teams use Cosmos as a centralized repository to conduct an analysis of application usage, to measure system and operational performance, and to look for abnormalities and patterns that may indicate problems or security issues.</span></span> <span data-ttu-id="f32b7-110">Chaque équipe de service charge une ligne de base des journaux dans Cosmos, en fonction de ce qu’elle cherche à analyser, qui incluent souvent :</span><span class="sxs-lookup"><span data-stu-id="f32b7-110">Each service team uploads a baseline of logs into Cosmos, depending on what they are looking to analyze, that often include:</span></span>

- <span data-ttu-id="f32b7-111">Journaux des événements</span><span class="sxs-lookup"><span data-stu-id="f32b7-111">Event logs</span></span>
- <span data-ttu-id="f32b7-112">Journaux AppLocker</span><span class="sxs-lookup"><span data-stu-id="f32b7-112">AppLocker logs</span></span>
- <span data-ttu-id="f32b7-113">Données de performances</span><span class="sxs-lookup"><span data-stu-id="f32b7-113">Performance data</span></span>
- <span data-ttu-id="f32b7-114">Données System Center</span><span class="sxs-lookup"><span data-stu-id="f32b7-114">System Center data</span></span>
- <span data-ttu-id="f32b7-115">Enregistrements des détails des appels</span><span class="sxs-lookup"><span data-stu-id="f32b7-115">Call detail records</span></span>
- <span data-ttu-id="f32b7-116">Données de qualité de l’expérience</span><span class="sxs-lookup"><span data-stu-id="f32b7-116">Quality of experience data</span></span>
- <span data-ttu-id="f32b7-117">Journaux du serveur web IIS</span><span class="sxs-lookup"><span data-stu-id="f32b7-117">IIS Web Server logs</span></span>
- <span data-ttu-id="f32b7-118">SQL Server journaux</span><span class="sxs-lookup"><span data-stu-id="f32b7-118">SQL Server logs</span></span>
- <span data-ttu-id="f32b7-119">Données Syslog</span><span class="sxs-lookup"><span data-stu-id="f32b7-119">Syslog data</span></span>
- <span data-ttu-id="f32b7-120">Journaux d’audit de sécurité</span><span class="sxs-lookup"><span data-stu-id="f32b7-120">Security audit logs</span></span>

<span data-ttu-id="f32b7-121">Avant de télécharger des données dans Cosmos, l’application ODL utilise un service de nettoyage pour obscurcir tous les champs qui contiennent des données client, telles que les informations client et les informations d’identification de l’utilisateur final, et remplace ces champs par une valeur de hachage.</span><span class="sxs-lookup"><span data-stu-id="f32b7-121">Prior to uploading data into Cosmos, the ODL application uses a scrubbing service to obfuscate any fields that contain customer data, such as tenant information and end-user identifiable information, and replace those fields with a hash value.</span></span> <span data-ttu-id="f32b7-122">Les journaux anonymisés et hachés sont réécrits, puis chargés dans Cosmos.</span><span class="sxs-lookup"><span data-stu-id="f32b7-122">The anonymized and hashed logs are rewritten and then uploaded into Cosmos.</span></span> <span data-ttu-id="f32b7-123">Les équipes de service exécutent des requêtes limitées sur leurs données dans Cosmos pour la corrélation, les alertes et les rapports.</span><span class="sxs-lookup"><span data-stu-id="f32b7-123">Service teams run scoped queries against their data in Cosmos for correlation, alerting, and reporting.</span></span> <span data-ttu-id="f32b7-124">La période de rétention des données du journal d’audit dans Cosmos est déterminée par les équipes de service ; la plupart des données du journal d’audit sont conservées pendant 90 jours ou plus pour prendre en charge les enquêtes sur les incidents de sécurité et pour répondre aux exigences de rétention réglementaires.</span><span class="sxs-lookup"><span data-stu-id="f32b7-124">The period of audit log data retention in Cosmos is determined by the service teams; most audit log data is retained for 90 days or longer to support security incident investigations and to meet regulatory retention requirements.</span></span>

<span data-ttu-id="f32b7-125">L’accès aux données Microsoft 365 stockées dans Cosmos est limité au personnel autorisé.</span><span class="sxs-lookup"><span data-stu-id="f32b7-125">Access to Microsoft 365 data stored in Cosmos is restricted to authorized personnel.</span></span> <span data-ttu-id="f32b7-126">Microsoft limite la gestion des fonctionnalités d’audit au sous-ensemble limité de membres de l’équipe de service responsables des fonctionnalités d’audit.</span><span class="sxs-lookup"><span data-stu-id="f32b7-126">Microsoft restricts the management of audit functionality to the limited subset of service team members that are responsible for audit functionality.</span></span> <span data-ttu-id="f32b7-127">Ces membres d’équipe n’ont pas la possibilité de modifier ou de supprimer des données de Cosmos, et toutes les modifications apportées aux mécanismes de journalisation de Cosmos sont enregistrées et auditées.</span><span class="sxs-lookup"><span data-stu-id="f32b7-127">These team members do not have the ability to modify or delete data from Cosmos, and all changes to logging mechanisms for Cosmos are recorded and audited.</span></span>

<span data-ttu-id="f32b7-128">Chaque équipe de service accède à ses données de journal pour analyse en autorisant certaines applications à effectuer une analyse spécifique.</span><span class="sxs-lookup"><span data-stu-id="f32b7-128">Each service team accesses its log data for analysis by authorizing certain applications to conduct specific analysis.</span></span> <span data-ttu-id="f32b7-129">Par exemple, l’équipe de sécurité Microsoft 365 utilise les données de Cosmos via un analyseur propriétaire du journal des événements pour corréler, alerter et générer des rapports actionnables sur les activités suspectes possibles dans l’environnement de production Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="f32b7-129">For example, the Microsoft 365 Security team uses data from Cosmos through a proprietary event log parser to correlate, alert, and generate actionable reports on possible suspicious activity in the Microsoft 365 production environment.</span></span> <span data-ttu-id="f32b7-130">Les rapports issus de ces données sont utilisés pour corriger les vulnérabilités et améliorer les performances globales du service.</span><span class="sxs-lookup"><span data-stu-id="f32b7-130">The reports from this data are used to correct vulnerabilities, and to improve the overall performance of the service.</span></span> <span data-ttu-id="f32b7-131">Si une alerte ou un rapport spécifique nécessite un examen plus approfondie, le personnel du service peut demander que les données soient importées dans le service Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="f32b7-131">If a specific alert or report requires further investigation, service personnel can request that data be imported back into the Microsoft 365 service.</span></span> <span data-ttu-id="f32b7-132">Étant donné que le journal spécifique importé à partir de Cosmos est chiffré et que le personnel du service n’a pas accès aux clés de déchiffrement, le journal cible est transmis par programme par le biais d’un service de déchiffrement qui renvoie les résultats d’étendue au personnel du service autorisé.</span><span class="sxs-lookup"><span data-stu-id="f32b7-132">Since the specific log being imported from Cosmos is in encrypted and service personnel do not have access to decryption keys, the target log is programmatically passed through a decryption service that returns scoped results to the authorized service personnel.</span></span> <span data-ttu-id="f32b7-133">Les vulnérabilités trouvées dans cet exercice sont signalées et escalades à l’aide des canaux de gestion des incidents de sécurité standard de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="f32b7-133">Any vulnerabilities found from this exercise are reported and escalated using Microsoft's standard security incident management channels.</span></span>
